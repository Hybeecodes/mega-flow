# pagina

[![NPM version][npm-image]][npm-url]
[![build status][travis-image]][travis-url]
[![Codecov][codecov-image]][codecov-url]

  Paginates a MongoDB collection and add links to the next/prev page.

## Install
```sh
npm install mongo-paginate --save
```

## Examples

``` js
const express = require('express');
const app = express();
const paginate = require('mongo-paginate');

// without pagination
// GET http://localhost/items

app.get('/items', (req, res, next) => {
  collection
    .find({ owner: req.user }).toArray()
    .then(items => res.status(200).json(items))
}); 
  
// [{a:1, b:1}, {a:2, b:2}, {a:3, b:3}, {a:4, b:4}]

// with pagination
// GET http://localhost/items?start=0&limit=3

paginate.extend(app);

app.get('/items', (req, res, next) => {
  const cursor = collection.find({ owner: req.user })
  res.status(200).paginate(cursor, { limit: 100 })
}); 

// will return 400 error if query limit > 100
  
// { 
//   "items": [{a:1, b:1}, {a:2, b:2}, {a:3, b:3}], 
//   "prev": null,
//   "next": "http://localhost/items?start=3&limit=3"
// }

```

## License

MIT


[npm-image]: https://img.shields.io/npm/v/mongo-paginate.svg?style=flat-square
[npm-url]: https://npmjs.org/package/mongo-paginate
[travis-image]: https://img.shields.io/travis/amorenoc/mongo-paginate/master.svg?style=flat-square
[travis-url]: https://travis-ci.org/amorenoc/mongo-paginate
[codecov-image]: https://img.shields.io/codecov/c/github/amorenoc/mongo-paginate.svg?style=flat-square
[codecov-url]: https://codecov.io/github/amorenoc/mongo-paginate?branch=master

## TODO

http://tools.ietf.org/html/rfc5988#page-6
